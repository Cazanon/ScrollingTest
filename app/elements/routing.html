<script src="../bower_components/page/page.js"></script>
<script>
	window.addEventListener('WebComponentsReady', function() {
		
		var WEEK_DAYS = 7;

		if (window.location.port === '') {  // if production
			page.base(app.baseUrl.replace(/\/$/, ''));
		}

		app.baseUrl = app.baseUrl || '/';

		page(app.baseUrl, function() {
			app.route = 0;
		});

		page('/:element', function(ctx) {
			//console.log(ctx.params.element);
			param = ctx.params.element;
			param < WEEK_DAYS ? app.route = param : page.redirect(app.baseUrl);
		});

		page('*', function() {
			//console.log('404 Not Found');
			page.redirect(app.baseUrl);
		});

		page({
			hashbang: false
		});

	});
</script>
